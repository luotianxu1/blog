---
title: 数据库系统
icon: sheji
order: 11
date: 2024-07-16
category:
    - 软考
tag:
    - 软考
---


## 数据库模式

![ ](/img/softExamination/186.jpg)

### 关系表类型

- 基本关系（通常又称为基本表或基表）：实际存在的表，实际存储数据的逻辑表示
- 查询表:查询结果对应的表
- 视图表：由基表或其他视图表导出的表，本身不独立存储，数据库只存放它的定义，常称为虚表

### 数据库视图

他是一个虚拟表（逻辑上的表），其内容由查询定义（仅保存SQL查询语句）。同真实的表一样，视图包含一系列带有名称的列和行数据。但是，视图并没有真正存储这些数据，而是通过查询原始表动态生成所需要的数据

### 视图的优点

1. 视图能简化用户操作
2. 视图使用户能以多种角度看待同一数据
3. 视图对重构数据库提供了一定程度的逻辑独立性
4. 视图可以对机密数据提供安全保护

### 物化视图

它不是传统意义上虚拟视图，是实体化视图，其本身会存储数据。同时当原始表中的数据更新时，物化视图也会更新。

## 分布式数据库

- 数据独立性：除了数据的逻辑独立性与物理独立性外，还有数据分布独立性（分布透明性）
- 集中与自治共享结合的控制结构。各局部的DBM可以独立地管理局不数据库，具有自治的功能。同时，系统又设有几种控制机制，协调各局部DBM的工作，执行全局应用
- 适当增加数据冗余度。在不同的场地存储同一数据的多个副本,可以提高系统的可靠性和可用性，同时也能提高系统性能。提高系统的可用性，即当系统中某个节点发生故障时，因为数据有其他副本在非故障场地上，对其他所有场地来说，数据仍然是可用的，从而保证数据的完备性。
- 全局的一致性、可串行性和可恢复性。

![ ](/img/softExamination/187.jpg)

### 组成

- LDBMS
- GDBMS
- 全局数据字典
- 通信管理

### 结构

- 全局控制集中DDBMS
- 全局控制分散DDBMS
- 全局控制部分分散的DDBMS

### 分布透明性

- 分片透明性
  - 水平分片
  - 垂直分片
  - 混合分片
- 位置透明性
- 局部数据模型透明性

分片透明：是指用户不必关心数据是如何分片的，他们对数据的操作在全局关系上进行，即如何分片对用户是透明的

复制透明：用户不用关心数据库在网络中各个节点的复制情况,被复制的数据的更新都由系统自动完成

位置透明：是指用户不必知道所操作的数据放在何处，即数据分配到哪个或哪些站点存储对用户是透明的

局部映像透明性（逻辑透明）：是最低层次的透明性，该透明性提供数据到局部数据库的映像，即用户不必关心局部DBMS支持哪种数据模型、使用哪种数据操纵语言，数据模型和操纵语言的转换是由系统完成的。因此，局部映像透明性对异构型和同构异质的分布式数据库系统是非常重要的

### 两阶段提交协议

#### 2PC事务提交的两个阶段

表决阶段，目的是形成一个共同的决定
执行阶段，目的是实现这个协调者的决定

#### 两条全局提交规则

只要有一个参与者撤销事务，协调者就必须做出全局撤销决定
只有所有参与者都同意提交事务，协调者才能做出全局提交决定

## 数据库设计过程

![ ](/img/softExamination/188.jpg)

### 概念结构设计

![ ](/img/softExamination/189.jpg)

![ ](/img/softExamination/190.jpg)

## 逻辑结构设计

### 数据模型

数据模型三要素：数据结构、数据操作、数据的约束条件

### 相关概念

- 目或度：关系模式中属性的个数
- 候选吗（候选键）
- 主码（主键）
- 主属性与非主属性：组成候选吗的属性就是主属性，其它的就是非主属性
- 外码（外键）
- 全码（ALL-Key）：关系模式的所有属性组是这个关系的候选码

### 完整性约束

- 实体完整性约束：规定基本关系的主属性不能取空值
- 参照完整性约束：关系与关系间的引用，其他关系的主键或空值
- 用户自定义完整性约束：应用环境决定
