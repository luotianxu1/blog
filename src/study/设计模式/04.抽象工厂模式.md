---
title: 抽象工厂模式
icon: 设计模式
order: 4
date: 2024-05-29
category:
    - 设计模式
tag:
    - 抽象工厂模式
---

- 抽象工厂模式并不直接生成实例，而是用于对产品类簇的创建

```js
class User {
    constructor(name, role, pages) {
        this.name = name
        this.role = role
        this.pages = pages
    }

    welcome() {
        console.log(`welcome ${this.name}`)
    }

    dataShow() {
        throw new Error('抽象方法不允许直接调用')
    }
}

class Admin extends User {
    constructor(name, role, pages) {
        super(name, 'admin', ['home', 'dashboard', 'user', 'setting'])
    }

    dataShow() {
        console.log('admin-dataShow')
    }

    addUser() {}
}

function getAbstractUserFactory(role) {
    switch (role) {
        case 'admin':
            return Admin
        case 'user':
            return User
        default:
            return new Error('没有该角色')
    }
}

let UserClass = getAbstractUserFactory('admin')
let user = new UserClass('kerwin')
console.log(user)
```
