---
title: 单例模式
icon: 设计模式
order: 6
date: 2024-05-29
category:
    - 设计模式
tag:
    - 单例模式
---

- 保证一个类仅有一个实例，并提供一个访问他的全局访问点
- 主要解决一个全局使用的类频繁的创建和销毁，占用内存

闭包实现

```js
var Singletion = (function () {
    var instance

    function User(name, age) {
        this.name = name
        this.age = age
    }

    return function (name, age) {
        if (!instance) {
            instance = new User(name, age)
        }
        return instance
    }
})()

console.log(Singletion() === Singletion()) // true

```

类实现

```js
class Singleton {
    constructor(name, age) {
        if (!Singleton.instance) {
            this.name = name
            this.age = age
            Singleton.instance = this
        }

        return Singleton.instance
    }
}

console.log(new Singleton('张三', 18) === new Singleton('李四', 20)) // true
```
